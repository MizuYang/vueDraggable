import{r as j,a as n,o as J,i as V,b as i,c as r,e as a,w as B,v as E,t as s,j as y,k as R,u as z,l as t,n as u,F as I}from"./index-df6c36c8.js";import{D as F}from"./vuedraggable.umd-346c2504.js";const T={class:"bg-gainsboro mb-6 p-5 pb-15"},A=a("h2",{class:"text-20 mb-3"},"上下拖曳(基本使用)",-1),X={class:"d-flex justify-content-evenly align-items-center"},Y={class:"position-relative"},q={class:"position-absolute form-check form-switch",style:{width:"200px","z-index":"99999",transform:"translateY(-45px)"}},G={class:"form-check-label ms-4",for:"demo1-enabled"},H={class:"px-10",style:{"background-color":"#303030"}},K={style:{"margin-left":"100px"}},L={class:"text-20"},P={class:"text-20"},Q={class:"text-20"},W={class:"text-20"},Z={class:"text-20"},$={key:1,class:"text-gray"},ee={class:"text-20"},ae={key:1,class:"text-gray"},oe={__name:"Demo1",setup(se){const o=j([{name:"金獨子",id:0},{name:"劉眾赫",id:1},{name:"韓秀英",id:2},{name:"劉尚雅",id:3},{name:"李賢誠",id:4},{name:"鄭熙媛",id:5},{name:"李吉永",id:6}]),_=n([]),l=n(!0),g=n(!1),v=n(""),d=n(""),x=n(""),f=n(!1),b=n(!1),p=n({}),h=n({oldIndex:"",newIndex:""});J(()=>{_.value=JSON.parse(JSON.stringify(o))});function k(e){console.log("start事件(開始拖曳)",e),g.value=!0}function w(e){console.log("end事件(拖曳結束)",e),g.value=!1,v.value=""}function S(e){console.log("update事件(在拖曳結束後觸發，提供了整個列表的新順序)",e),p.value={newIndex:e.newIndex,oldIndex:e.oldIndex},_.value=JSON.parse(JSON.stringify(o))}function D(e){console.log("choose事件 (選擇了某個項目)",e),v.value=o[e.oldDraggableIndex],d.value=o[e.oldDraggableIndex]}function N(e){console.log("handleUnchoose事件 (取消選擇了某個項目)",e)}function C(e){console.log("handleSort事件 (排序改變了)",e),f.value=!0}function U(e){b.value=!0,console.log("handleMove事件 (每移動一次排序就會觸發[回傳拖曳對象])",e);const m=e.related.__draggable_context.index;x.value=_.value[m].name,h.value.oldIndex=e.dragged.__draggable_context.index,h.value.newIndex=e.related.__draggable_context.index}function M(e){console.log("change事件 (拖曳後的變化)",e)}return(e,m)=>{const O=V("highlightjs");return i(),r("section",T,[A,a("div",X,[a("div",Y,[a("div",q,[B(a("input",{class:"form-check-input","onUpdate:modelValue":m[0]||(m[0]=c=>l.value=c),type:"checkbox",id:"demo1-enabled"},null,512),[[E,l.value]]),a("label",G,s(l.value?"開啟":"關閉")+" 拖曳功能 ",1)]),y(z(F),{ref:"draggableRef",class:"list-group",list:o,"item-key":"id",disabled:!l.value,"chosen-class":"active","ghost-class":"bg-danger",animation:"500",onStart:k,onEnd:w,onUpdate:S,onChoose:D,onUnchoose:N,onSort:C,onMove:U,onChange:M},{item:R(({element:c})=>[a("div",{class:u(["list-group-item user-select-none",[l.value?"cursor-move":"cursor-default",c.className]]),style:{padding:"10px 30px"}},s(c.id+1)+". "+s(c.name),3)]),_:1},8,["list","disabled"])]),a("div",H,[y(O,{language:"json",code:JSON.stringify(o,null,2)},null,8,["code"])])]),a("div",K,[a("ul",null,[a("li",L,[t(" 拖曳中： "),a("span",{class:u(g.value?"text-success":"text-gray")},s(g.value?"O":"X"),3)]),a("li",P,[t(" 目前拖曳的項目： "),a("span",{class:u(v.value.name||"text-gray")},s(v.value.name||"( 無 )"),3)]),a("li",Q,[t(" 被拖曳的項目： "),a("span",{class:u(d.value.name||"text-gray")},s(d.value.name||"( 無 )"),3)]),a("li",W,[t(" 拖曳後的目標項目： "),a("span",{class:u(x.value||"text-gray")},s(x.value||"( 無 )"),3)]),a("li",Z,[t(" 位置改變(move事件)： "),a("span",null,[b.value?(i(),r(I,{key:0},[t(s(d.value.name)+" 從第 "+s(h.value.oldIndex+1)+" 個移動到第 "+s(h.value.newIndex+1)+" 個 ",1)],64)):(i(),r("span",$,"( 無 )"))])]),a("li",ee,[t(" 位置改變(update事件)： "),a("span",null,[f.value?(i(),r(I,{key:0},[t(s(d.value.name)+" 從第 "+s(p.value.oldIndex+1)+" 個移動到第 "+s(p.value.newIndex+1)+" 個 ",1)],64)):(i(),r("span",ae,"( 無 )"))])])])])])}}};export{oe as default};
