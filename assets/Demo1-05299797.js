import{r as O,a as t,o as J,b as i,c as r,e as a,w as V,v as B,t as s,i as y,j as E,u as R,k as n,n as u,F as I}from"./index-6884f879.js";import{D as j}from"./vuedraggable.umd-f28e2e0a.js";import z from"./Code-26c2533c.js";const F={class:"bg-gainsboro mb-6 p-5 pb-15"},T=a("h2",{class:"text-20 mb-3"},"上下拖曳(基本使用)",-1),A={class:"d-flex justify-content-evenly align-items-center"},X={class:"position-relative"},Y={class:"position-absolute form-check form-switch",style:{width:"200px","z-index":"99999",transform:"translateY(-45px)"}},$={class:"form-check-label ms-4",for:"demo1-enabled"},q={class:"px-10",style:{"background-color":"#303030"}},G={style:{"margin-left":"100px"}},H={class:"text-20"},K={class:"text-20"},L={class:"text-20"},P={class:"text-20"},Q={class:"text-20"},W={key:1,class:"text-gray"},Z={class:"text-20"},ee={key:1,class:"text-gray"},oe={__name:"Demo1",setup(ae){const o=O([{name:"金獨子",id:0},{name:"劉眾赫",id:1},{name:"韓秀英",id:2},{name:"劉尚雅",id:3},{name:"李賢誠",id:4},{name:"鄭熙媛",id:5},{name:"李吉永",id:6}]),h=t([]),l=t(!0),g=t(!1),v=t(""),d=t(""),x=t(""),f=t(!1),b=t(!1),p=t({}),m=t({oldIndex:"",newIndex:""});J(()=>{h.value=JSON.parse(JSON.stringify(o))});function k(e){console.log("start事件(開始拖曳)",e),g.value=!0}function w(e){console.log("end事件(拖曳結束)",e),g.value=!1,v.value=""}function D(e){console.log("update事件(在拖曳結束後觸發，提供了整個列表的新順序)",e),p.value={newIndex:e.newIndex,oldIndex:e.oldIndex},h.value=JSON.parse(JSON.stringify(o))}function S(e){console.log("choose事件 (選擇了某個項目)",e),v.value=o[e.oldDraggableIndex],d.value=o[e.oldDraggableIndex]}function N(e){console.log("handleUnchoose事件 (取消選擇了某個項目)",e)}function C(e){console.log("handleSort事件 (排序改變了)",e),f.value=!0}function U(e){b.value=!0,console.log("handleMove事件 (每移動一次排序就會觸發[回傳拖曳對象])",e);const _=e.related.__draggable_context.index;x.value=h.value[_].name,m.value.oldIndex=e.dragged.__draggable_context.index,m.value.newIndex=e.related.__draggable_context.index}function M(e){console.log("change事件 (拖曳後的變化)",e)}return(e,_)=>(i(),r("section",F,[T,a("div",A,[a("div",X,[a("div",Y,[V(a("input",{class:"form-check-input","onUpdate:modelValue":_[0]||(_[0]=c=>l.value=c),type:"checkbox",id:"demo1-enabled"},null,512),[[B,l.value]]),a("label",$,s(l.value?"開啟":"關閉")+" 拖曳功能 ",1)]),y(R(j),{ref:"draggableRef",class:"list-group",list:o,"item-key":"id",disabled:!l.value,"chosen-class":"active","ghost-class":"bg-danger",animation:"500",onStart:k,onEnd:w,onUpdate:D,onChoose:S,onUnchoose:N,onSort:C,onMove:U,onChange:M},{item:E(({element:c})=>[a("div",{class:u(["list-group-item user-select-none",[l.value?"cursor-move":"cursor-default",c.className]]),style:{padding:"10px 30px"}},s(c.id+1)+". "+s(c.name),3)]),_:1},8,["list","disabled"])]),a("div",q,[y(z,{code:o},null,8,["code"])])]),a("div",G,[a("ul",null,[a("li",H,[n(" 拖曳中： "),a("span",{class:u(g.value?"text-success":"text-gray")},s(g.value?"O":"X"),3)]),a("li",K,[n(" 目前拖曳的項目： "),a("span",{class:u(v.value.name||"text-gray")},s(v.value.name||"( 無 )"),3)]),a("li",L,[n(" 被拖曳的項目： "),a("span",{class:u(d.value.name||"text-gray")},s(d.value.name||"( 無 )"),3)]),a("li",P,[n(" 拖曳後的目標項目： "),a("span",{class:u(x.value||"text-gray")},s(x.value||"( 無 )"),3)]),a("li",Q,[n(" 位置改變(move事件)： "),a("span",null,[b.value?(i(),r(I,{key:0},[n(s(d.value.name)+" 從第 "+s(m.value.oldIndex+1)+" 個移動到第 "+s(m.value.newIndex+1)+" 個 ",1)],64)):(i(),r("span",W,"( 無 )"))])]),a("li",Z,[n(" 位置改變(update事件)： "),a("span",null,[f.value?(i(),r(I,{key:0},[n(s(d.value.name)+" 從第 "+s(p.value.oldIndex+1)+" 個移動到第 "+s(p.value.newIndex+1)+" 個 ",1)],64)):(i(),r("span",ee,"( 無 )"))])])])])]))}};export{oe as default};
